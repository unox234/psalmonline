<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}PsalmbordOnline{% endblock %}</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
</head>
<body class="bg-white text-gray-900 font-sans min-h-screen flex flex-col">
  <nav class="bg-gray-100 border-b border-gray-300 px-6 py-4 flex flex-wrap items-center justify-between">
      {% if current_user.is_authenticated and current_user.church and current_user.church.logo_filename %}
      <a href="{{ url_for('index') }}"><img src="{{ url_for('uploaded_file', filename=current_user.church.logo_filename) }}" alt="Logo" class="h-10 w-auto object-contain"></a>
    {% else %}
      <a href="{{ url_for('index') }}"><img src="{{ url_for('static', filename='default_logo.png') }}" alt="Default Logo" class="h-10 w-auto object-contain"></a>
    {% endif %}
    <div class="nav-links flex flex-wrap gap-3 mt-2 sm:mt-0">
      {% if current_user.is_authenticated %}
        <a href="/portal" class="px-4 py-2 text-gray-800 rounded font-semibold hover:bg-blue-600 hover:text-white transition">Mijn schermen</a>
        <a href="{{ url_for('global_schedules') }}" class="px-4 py-2 text-gray-800 rounded font-semibold hover:bg-blue-600 hover:text-white transition">Geplande diensten</a>
        <a href="{{ url_for('church_settings') }}" class="px-4 py-2 text-gray-800 rounded font-semibold hover:bg-blue-600 hover:text-white transition">Kerk instellingen</a>
        <a href="{{ url_for('change_password') }}" class="px-4 py-2 text-gray-800 rounded font-semibold hover:bg-blue-600 hover:text-white transition">Wachtwoord wijzigen</a>
        {% if current_user.is_admin %}
          <a href="{{ url_for('admin_dashboard') }}" class="px-4 py-2 text-gray-800 rounded font-semibold hover:bg-blue-600 hover:text-white transition">Admin instellingen</a>
        {% endif %}
        <a href="/logout" class="px-4 py-2 text-gray-800 rounded font-semibold hover:bg-blue-600 hover:text-white transition">Logout</a>
      {% else %}
        <a href="/login" class="px-4 py-2 text-gray-800 rounded font-semibold hover:bg-blue-600 hover:text-white transition">Login</a>
        <a href="/register" class="px-4 py-2 text-gray-800 rounded font-semibold hover:bg-blue-600 hover:text-white transition">Register</a>
      {% endif %}
    </div>
  </nav>
  <main class="flex-grow max-w-7xl mx-auto w-full px-6 py-8 sm:py-12">
    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <div class="bg-blue-100 border border-blue-400 text-blue-700 px-6 py-4 rounded mb-6">
          {% for message in messages %}
            <div>{{ message }}</div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}
    {% block content %}{% endblock %}
  </main>
</body>
</html>